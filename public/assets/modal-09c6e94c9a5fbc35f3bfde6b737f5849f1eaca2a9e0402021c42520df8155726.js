!function(){var t="Modal";window&&!window[t]&&(window[t]=function(t,i){this._trigger=null,this._overlay=null,this._wrap=null,this._content=null,this._buttons=null,this._confirm=null,this._dismiss=null,this._state="",this._options={modalType:"static",modalContent:"No content specified.",confirmText:"\u2714 Confirm",onConfirm:null,dismissText:"\u2718",onDismiss:null},this.createModal=this.createModal.bind(this),this.removeModal=this.removeModal.bind(this),this.dontPropagate=this.dontPropagate.bind(this),this.onConfirm=this.onConfirm.bind(this),this.onDismiss=this.onDismiss.bind(this),this.setTrigger(t),this.setOptions(i),this.buildObjects()},window[t].prototype={constructor:window[t],setTrigger:function(t){"string"==typeof t&&(t=/^([\w\-]+)$/.test(t)?document.getElementById(t):document.querySelector(t)),"object"==typeof t&&(this._trigger=t,this._trigger.addEventListener("click",this.createModal),this.setOptions({modalType:this.getProp(t,"data-modal","string",this._options.modalType),modalContent:this.getProp(t,"data-content","string",this._options.modalContent),confirmText:this.getProp(t,"data-confirm-text","string",this._options.confirmText),dismissText:this.getProp(t,"data-dismiss-text","string",this._options.dismissText)}))},setOptions:function(t){if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(this._options[i]=t[i])},getProp:function(t,i,e,s){if("object"==typeof t&&"string"==typeof i){var o=t.getAttribute?t.getAttribute(i):null;if(o&&"string"==typeof o)return/^(int|integer|number|float|double)$/i.test(e)&&(o=0+o.replace(/[^\d\-\.]+/,"")),/^(bool|boolean)$/i.test(e)&&(o=!!/^(on|enabled|true|yes|y|1)$/i.test(o)),o}return s},buildObjects:function(){this._overlay=document.createElement("div"),this._overlay.className="modal-overlay",this._overlay.addEventListener("click",this.removeModal),this._wrap=document.createElement("div"),this._wrap.className="modal-wrap",this._overlay.appendChild(this._wrap),this._content=document.createElement("div"),this._content.className="modal-content",this._content.addEventListener("click",this.dontPropagate),this._wrap.appendChild(this._content),this._buttons=document.createElement("div"),this._buttons.className="modal-buttons",this._wrap.appendChild(this._buttons),this._dismiss=document.createElement("button"),this._dismiss.className="continue-game",this._dismiss.innerHTML="YES",this._dismiss.addEventListener("click",this.onDismiss),this._buttons.appendChild(this._dismiss),this._dismiss=document.createElement("button"),this._dismiss.className="end-game",this._dismiss.innerHTML="NO",this._dismiss.addEventListener("click",this.redirect),this._buttons.appendChild(this._dismiss)},createModal:function(){if(this._overlay){if(document.body.appendChild(this._overlay),this.setState("loading"),"static"===this._options.modalType)return void this.setState("active",this._options.modalContent);if("element"===this._options.modalType){var t=document.querySelector(this._options.modalContent);return void this.setState("active",t?t.innerHTML:"Could not load content from DOM element ("+this._options.modalContent+").")}if("ajax"===this._options.modalType){if(window.XMLHttpRequest?xhr=new XMLHttpRequest:window.ActiveXObject&&(xhr=new ActiveXObject("Microsoft.XMLHTTP")),xhr){var i=function(){if(4===xhr.readyState)return 0===xhr.status?this.setState("active","Could not fetch content from ("+this._options.modalContent+")."):xhr.responseText?this.setState("active",xhr.responseText):this.setState("active","Got no response data from ("+this._options.modalContent+").")};xhr.open("GET",this._options.modalContent,!0),xhr.onreadystatechange=i.bind(this),xhr.send()}return}this.setState("active","Could not load content, no valid content type specified.")}},removeModal:function(){if(this._overlay){var t=function(){document.body.removeChild(this._overlay)};this.setState("dismiss"),setTimeout(t.bind(this),500)}},setState:function(t,i){t&&"string"==typeof t&&this._overlay&&this._content&&(console.log(t),setTimeout(function(){this._content.innerHTML=String(i||""),this._overlay.classList.remove("loading"),this._overlay.classList.remove("active"),this._overlay.classList.remove("dismiss"),this._overlay.classList.add(t)}.bind(this),60),this._state=t);return t},dontPropagate:function(t){"active"===this._state&&t&&t.stopPropagation()},onConfirm:function(t){this.dontPropagate(t),"function"==typeof this._options.onConfirm&&this._options.onConfirm.call(this)},onDismiss:function(t){this.dontPropagate(t),"function"==typeof this._options.onDismiss&&this._options.onDismiss.call(this),this.removeModal()},redirect:function(){window.location.href="https://www.pelispedia.tv/pelicula/los-minions/"}})}();for(var items=document.querySelectorAll("[data-modal]"),options={onConfirm:function(){alert("OK")}},i=0;i<items.length;i++)new Modal(items[i],options);